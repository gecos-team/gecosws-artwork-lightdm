/*
: MIT license
*/
(function(d,m){function k(b){b=b||{};for(var a=1;a<arguments.length;a++){var d=arguments[a];if(d)for(var g in d)d.hasOwnProperty(g)&&("object"===typeof d[g]?deepExtend(b[g],d[g]):b[g]=d[g])}return b}function q(b,a){function q(){n=b.offsetWidth;p=b.offsetHeight;var t=(d.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1);h.width=n*t;h.height=p*t;h.style.width=n+"px";h.style.height=p+"px";
c.scale(t,t);c.fillStyle=a.dotColor;c.strokeStyle=a.lineColor;c.lineWidth=a.lineWidth}function g(){if(z){v=d.innerWidth;w=d.innerHeight;c.clearRect(0,0,h.width,h.height);for(var a=0;a<e.length;a++)e[a].updatePosition();for(a=0;a<e.length;a++)e[a].draw();u||requestAnimationFrame(g)}}function r(){this.stackPos=null;this.active=!0;this.layer=Math.ceil(3*Math.random());this.parallaxOffsetY=this.parallaxOffsetX=0;this.position={x:Math.ceil(Math.random()*n),y:Math.ceil(Math.random()*p)};this.speed={};switch(a.directionX){case "left":this.speed.x=
+(-a.maxSpeedX+Math.random()*a.maxSpeedX-a.minSpeedX).toFixed(2);break;case "right":this.speed.x=+(Math.random()*a.maxSpeedX+a.minSpeedX).toFixed(2);break;default:this.speed.x=+(-a.maxSpeedX/2+Math.random()*a.maxSpeedX).toFixed(2),this.speed.x+=0<this.speed.x?a.minSpeedX:-a.minSpeedX}switch(a.directionY){case "up":this.speed.y=+(-a.maxSpeedY+Math.random()*a.maxSpeedY-a.minSpeedY).toFixed(2);break;case "down":this.speed.y=+(Math.random()*a.maxSpeedY+a.minSpeedY).toFixed(2);break;default:this.speed.y=
+(-a.maxSpeedY/2+Math.random()*a.maxSpeedY).toFixed(2),this.speed.x+=0<this.speed.y?a.minSpeedY:-a.minSpeedY}}function A(c){void 0!==a[c]&&a[c].call(b)}var z=!!m.createElement("canvas").getContext,h,c,e=[],B=0,C=0,v,w,n,p,D=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),E=!!d.DeviceOrientationEvent,F=0,x,y,G=0,u=!1;a=k({},d.particleground.defaults,a);a.proximity=Math.pow(a.proximity,2);var H=a.particleRadius/2,I=2*Math.PI;r.prototype.draw=
function(){c.beginPath();c.arc(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY,H,0,I,!0);c.closePath();c.fill();c.beginPath();for(var b=e.length-1;b>this.stackPos;b--){var f=e[b];Math.pow(this.position.x-f.position.x,2)+Math.pow(this.position.y-f.position.y,2)<a.proximity&&(c.moveTo(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY),a.curvedLines?c.quadraticCurveTo(Math.max(f.position.x,f.position.x),Math.min(f.position.y,f.position.y),f.position.x+
f.parallaxOffsetX,f.position.y+f.parallaxOffsetY):c.lineTo(f.position.x+f.parallaxOffsetX,f.position.y+f.parallaxOffsetY))}c.stroke();c.closePath()};r.prototype.updatePosition=function(){a.parallax&&(E&&!D?(x=v/60*(F+30),y=w/60*(G+30)):(x=B,y=C),this.parallaxTargX=(x-v/2)/(a.parallaxMultiplier*this.layer),this.parallaxOffsetX+=(this.parallaxTargX-this.parallaxOffsetX)/10,this.parallaxTargY=(y-w/2)/(a.parallaxMultiplier*this.layer),this.parallaxOffsetY+=(this.parallaxTargY-this.parallaxOffsetY)/10);
switch(a.directionX){case "left":0>this.position.x+this.speed.x+this.parallaxOffsetX&&(this.position.x=n-this.parallaxOffsetX);break;case "right":this.position.x+this.speed.x+this.parallaxOffsetX>n&&(this.position.x=0-this.parallaxOffsetX);break;default:if(this.position.x+this.speed.x+this.parallaxOffsetX>n||0>this.position.x+this.speed.x+this.parallaxOffsetX)this.speed.x=-this.speed.x}switch(a.directionY){case "up":0>this.position.y+this.speed.y+this.parallaxOffsetY&&(this.position.y=p-this.parallaxOffsetY);
break;case "down":this.position.y+this.speed.y+this.parallaxOffsetY>p&&(this.position.y=0-this.parallaxOffsetY);break;default:if(this.position.y+this.speed.y+this.parallaxOffsetY>p||0>this.position.y+this.speed.y+this.parallaxOffsetY)this.speed.y=-this.speed.y}this.position.x+=this.speed.x;this.position.y+=this.speed.y};r.prototype.setStackPos=function(a){this.stackPos=a};(function(){if(z){h=m.createElement("canvas");h.className="pg-canvas";h.style.display="block";b.insertBefore(h,b.firstChild);c=
h.getContext("2d");q();for(var l=Math.round(n*p/a.density),f=0;f<l;f++){var k=new r;k.setStackPos(f);e.push(k)}d.addEventListener("resize",function(){q();for(var b=e.length-1;0<=b;b--)(e[b].position.x>n||e[b].position.y>p)&&e.splice(b,1);b=Math.round(n*p/a.density);if(b>e.length)for(;b>e.length;){var c=new r;e.push(c)}else b<e.length&&e.splice(b);for(b=e.length-1;0<=b;b--)e[b].setStackPos(b)},!1);m.addEventListener("mousemove",function(a){B=a.pageX;C=a.pageY},!1);E&&!D&&d.addEventListener("deviceorientation",
function(){G=Math.min(Math.max(-event.beta,-30),30);F=Math.min(Math.max(-event.gamma,-30),30)},!0);g();A("onInit")}})();return{option:function(b,c){if(c)a[b]=c;else return a[b]},destroy:function(){u=!0;e=[];h.parentNode.removeChild(h);A("onDestroy");l&&l(b).removeData("plugin_particleground")},start:function(){u=!1;g()},pause:function(){u=!0}}}var l=d.jQuery;d.particleground=function(b,a){return new q(b,a)};d.particleground.defaults={minSpeedX:.1,maxSpeedX:.7,minSpeedY:.1,maxSpeedY:.7,directionX:"center",
directionY:"center",density:1E4,dotColor:"#666666",lineColor:"#666666",particleRadius:7,lineWidth:1,curvedLines:!1,proximity:100,parallax:!0,parallaxMultiplier:5,onInit:function(){},onDestroy:function(){}};l&&(l.fn.particleground=function(b){if("string"===typeof arguments[0]){var a=arguments[0],d=Array.prototype.slice.call(arguments,1),g;this.each(function(){l.data(this,"plugin_particleground")&&"function"===typeof l.data(this,"plugin_particleground")[a]&&(g=l.data(this,"plugin_particleground")[a].apply(this,
d))});return void 0!==g?g:this}if("object"===typeof b||!b)return this.each(function(){l.data(this,"plugin_particleground")||l.data(this,"plugin_particleground",new q(this,b))})})})(window,document);
(function(){for(var d=0,m=["ms","moz","webkit","o"],k=0;k<m.length&&!window.requestAnimationFrame;++k)window.requestAnimationFrame=window[m[k]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[m[k]+"CancelAnimationFrame"]||window[m[k]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(k,l){var b=(new Date).getTime(),a=Math.max(0,16-(b-d)),m=window.setTimeout(function(){k(b+a)},a);d=b+a;return m});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(d){clearTimeout(d)})})();
